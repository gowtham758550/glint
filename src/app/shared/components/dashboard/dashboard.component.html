<div class="area"></div>
<div class="fixed">
    <nav class="main-menu fixed">
        <ul>
            <div class="pt-5 pb-5 text-center pe-5">
                <a class="text-secondary text-decoration-none d-flex text-nowrap">
                    <span class="pi pt-1 ps-3 pe-3 fs-1">
                        âœ¨
                    </span>
                    <span class="ps-2">
                        <app-logo></app-logo>
                    </span>
                </a>
            </div>

            <li *ngFor="let item of sidebarItems" class="pt-3">
                <ng-container [ngSwitch]="item.type">
                    <!-- menu item -->
                    <ng-template [ngSwitchCase]="'menu-item'">
                        <a [routerLink]="item.routeTo">
                            <i class="pi pt-1 fs-4 ps-4 pe-3" [ngClass]="item.icon">
                            </i>
                            <span class="nav-text fs-4 ps-3">
                                {{item.label}}
                            </span>
                        </a>
                    </ng-template>

                    <!-- accordion -->
                    <ng-template [ngSwitchCase]="'accordion'">
                        <a class="w-100">
                            <i class="pi pt-1 fs-4 ps-4 pe-3" [ngClass]="item.icon">
                            </i>
                            <span class="nav-item fs-4 ps-3">
                                {{item.label}}
                            </span>
                        </a>
                        <ul class="text-secondary">
                            <li *ngFor="let children of item.children">
                                <a class="w-100">
                                    <i class="pi pt-1 fs-6 ps-4 pe-3" [ngClass]="children.icon">
                                    </i>
                                    <span class="nav-item fs-5 ps-3">
                                        {{children.label}}
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </ng-template>
                </ng-container>
            </li>
        </ul>
    </nav>
</div>

<div class="content w-100" style="position: fixed;">
    <div class="pt-3"></div>
    <div class="card card-shadow">
        <div class="d-flex justify-content-end pt-3">
            <!-- profile -->
            <div class="dropdown">
                <button class="btn border border-dark rounded-pill" type="button" id="profile" data-bs-toggle="dropdown"
                    (click)="getProfilePicture()">
                    <i class="pi pi-user"></i>
                </button>
                <div class="dropdown-menu p-4" aria-labelledby="profile">
                    <div class="text-center">
                        <div>
                            <button class="btn border-none border-dark rounded-pill fs-1">
                                <img [src]="imageUrl" alt="profile picture"
                                    style="border-radius: 50%; width:70px;
                                    height:70px;"
                                    (click)="routeToProfile()">
                            </button>
                        </div>
                        <div class="py-2">
                            <button class="btn border-dark border-dark rounded-pill text-nowrap"
                                (click)="routeToSettings()">
                                Manage your account
                            </button>
                        </div>
                        <hr>
                        <button class="btn border-dark" (click)="logout()">
                            Logout
                            <i class="pi pi-sign-out px-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="d-flex flex-column px-4">
                <div class="fw-bold">
                    @username
                </div>
                <div class="text-muted">
                    email@domain.com
                </div>
            </div>
        </div>
        <hr>
        <div class="p-3" style="overflow-y: scroll; height: 38rem;">
            <ng-content></ng-content>
        </div>
        <div class="pb-2"></div>
    </div>
    <div class="pb-3"></div>
</div>